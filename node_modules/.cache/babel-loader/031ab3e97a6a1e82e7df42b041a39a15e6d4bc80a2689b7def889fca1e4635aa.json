{"ast":null,"code":"var _jsxFileName = \"/Users/zhangyanjun/react-project/mail/src/pages/home/components/searchBox/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Select } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet timeout;\n// let currentValue: string\n\nconst fetch = (value, callback) => {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n  //   currentValue = value\n\n  const data = [{\n    value: 'ddd',\n    label: '测试1'\n  }, {\n    value: 'eeee',\n    label: '测试2'\n  }, {\n    value: 'ffff',\n    label: '测试3'\n  }];\n  callback(data);\n  if (value) {\n    // timeout = setTimeout(fake, 300)\n  } else {\n    callback([]);\n  }\n};\nconst SearchInput = props => {\n  _s();\n  const [data, setData] = useState([]);\n  const [value, setValue] = useState();\n  const handleSearch = newValue => {\n    fetch(newValue, setData);\n  };\n  const handleChange = newValue => {\n    setValue(newValue);\n  };\n  return /*#__PURE__*/_jsxDEV(Select, {\n    showSearch: true,\n    value: value,\n    placeholder: props.placeholder,\n    style: props.style,\n    defaultActiveFirstOption: false,\n    suffixIcon: null,\n    filterOption: false,\n    onSearch: handleSearch,\n    onChange: handleChange,\n    notFoundContent: null,\n    options: (data || []).map(d => ({\n      value: d.value,\n      label: d.text\n    }))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchInput, \"ywXrr1B0vplvPVyCxAlG+d9kUuk=\");\n_c = SearchInput;\nconst SearchBox = () => /*#__PURE__*/_jsxDEV(SearchInput, {\n  placeholder: \"input search text\",\n  style: {\n    width: 200\n  }\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 75,\n  columnNumber: 3\n}, this);\n_c2 = SearchBox;\nexport default SearchBox;\nvar _c, _c2;\n$RefreshReg$(_c, \"SearchInput\");\n$RefreshReg$(_c2, \"SearchBox\");","map":{"version":3,"names":["React","useState","Select","jsxDEV","_jsxDEV","timeout","fetch","value","callback","clearTimeout","data","label","SearchInput","props","_s","setData","setValue","handleSearch","newValue","handleChange","showSearch","placeholder","style","defaultActiveFirstOption","suffixIcon","filterOption","onSearch","onChange","notFoundContent","options","map","d","text","fileName","_jsxFileName","lineNumber","columnNumber","_c","SearchBox","width","_c2","$RefreshReg$"],"sources":["/Users/zhangyanjun/react-project/mail/src/pages/home/components/searchBox/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\n\r\nimport { Select } from 'antd'\r\nimport type { SelectProps } from 'antd'\r\n\r\nlet timeout: ReturnType<typeof setTimeout> | null\r\n// let currentValue: string\r\n\r\nconst fetch = (value: string, callback) => {\r\n  if (timeout) {\r\n    clearTimeout(timeout)\r\n    timeout = null\r\n  }\r\n  //   currentValue = value\r\n\r\n  const data = [\r\n    {\r\n      value: 'ddd',\r\n      label: '测试1',\r\n    },\r\n    {\r\n      value: 'eeee',\r\n      label: '测试2',\r\n    },\r\n    {\r\n      value: 'ffff',\r\n      label: '测试3',\r\n    },\r\n  ]\r\n  callback(data)\r\n\r\n  if (value) {\r\n    // timeout = setTimeout(fake, 300)\r\n  } else {\r\n    callback([])\r\n  }\r\n}\r\n\r\nconst SearchInput: React.FC<{\r\n  placeholder: string\r\n  style: React.CSSProperties\r\n}> = (props) => {\r\n  const [data, setData] = useState<SelectProps['options']>([])\r\n  const [value, setValue] = useState<string>()\r\n\r\n  const handleSearch = (newValue: string) => {\r\n    fetch(newValue, setData)\r\n  }\r\n\r\n  const handleChange = (newValue: string) => {\r\n    setValue(newValue)\r\n  }\r\n\r\n  return (\r\n    <Select\r\n      showSearch\r\n      value={value}\r\n      placeholder={props.placeholder}\r\n      style={props.style}\r\n      defaultActiveFirstOption={false}\r\n      suffixIcon={null}\r\n      filterOption={false}\r\n      onSearch={handleSearch}\r\n      onChange={handleChange}\r\n      notFoundContent={null}\r\n      options={(data || []).map((d) => ({\r\n        value: d.value,\r\n        label: d.text,\r\n      }))}\r\n    />\r\n  )\r\n}\r\n\r\nconst SearchBox: React.FC = () => (\r\n  <SearchInput placeholder='input search text' style={{ width: 200 }} />\r\n)\r\n\r\nexport default SearchBox\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAEvC,SAASC,MAAM,QAAQ,MAAM;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAG7B,IAAIC,OAA6C;AACjD;;AAEA,MAAMC,KAAK,GAAGA,CAACC,KAAa,EAAEC,QAAQ,KAAK;EACzC,IAAIH,OAAO,EAAE;IACXI,YAAY,CAACJ,OAAO,CAAC;IACrBA,OAAO,GAAG,IAAI;EAChB;EACA;;EAEA,MAAMK,IAAI,GAAG,CACX;IACEH,KAAK,EAAE,KAAK;IACZI,KAAK,EAAE;EACT,CAAC,EACD;IACEJ,KAAK,EAAE,MAAM;IACbI,KAAK,EAAE;EACT,CAAC,EACD;IACEJ,KAAK,EAAE,MAAM;IACbI,KAAK,EAAE;EACT,CAAC,CACF;EACDH,QAAQ,CAACE,IAAI,CAAC;EAEd,IAAIH,KAAK,EAAE;IACT;EAAA,CACD,MAAM;IACLC,QAAQ,CAAC,EAAE,CAAC;EACd;AACF,CAAC;AAED,MAAMI,WAGJ,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACd,MAAM,CAACJ,IAAI,EAAEK,OAAO,CAAC,GAAGd,QAAQ,CAAyB,EAAE,CAAC;EAC5D,MAAM,CAACM,KAAK,EAAES,QAAQ,CAAC,GAAGf,QAAQ,CAAS,CAAC;EAE5C,MAAMgB,YAAY,GAAIC,QAAgB,IAAK;IACzCZ,KAAK,CAACY,QAAQ,EAAEH,OAAO,CAAC;EAC1B,CAAC;EAED,MAAMI,YAAY,GAAID,QAAgB,IAAK;IACzCF,QAAQ,CAACE,QAAQ,CAAC;EACpB,CAAC;EAED,oBACEd,OAAA,CAACF,MAAM;IACLkB,UAAU;IACVb,KAAK,EAAEA,KAAM;IACbc,WAAW,EAAER,KAAK,CAACQ,WAAY;IAC/BC,KAAK,EAAET,KAAK,CAACS,KAAM;IACnBC,wBAAwB,EAAE,KAAM;IAChCC,UAAU,EAAE,IAAK;IACjBC,YAAY,EAAE,KAAM;IACpBC,QAAQ,EAAET,YAAa;IACvBU,QAAQ,EAAER,YAAa;IACvBS,eAAe,EAAE,IAAK;IACtBC,OAAO,EAAE,CAACnB,IAAI,IAAI,EAAE,EAAEoB,GAAG,CAAEC,CAAC,KAAM;MAChCxB,KAAK,EAAEwB,CAAC,CAACxB,KAAK;MACdI,KAAK,EAAEoB,CAAC,CAACC;IACX,CAAC,CAAC;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEN,CAAC;AAAAtB,EAAA,CAjCKF,WAGJ;AAAAyB,EAAA,GAHIzB,WAGJ;AAgCF,MAAM0B,SAAmB,GAAGA,CAAA,kBAC1BlC,OAAA,CAACQ,WAAW;EAACS,WAAW,EAAC,mBAAmB;EAACC,KAAK,EAAE;IAAEiB,KAAK,EAAE;EAAI;AAAE;EAAAN,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAE,CACtE;AAAAI,GAAA,GAFKF,SAAmB;AAIzB,eAAeA,SAAS;AAAA,IAAAD,EAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAJ,EAAA;AAAAI,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}